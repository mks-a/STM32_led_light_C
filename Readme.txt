Code was tested in STM32F103C8